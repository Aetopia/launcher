<Window Closing="Window_OnClosing"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:s="clr-namespace:System;assembly=mscorlib"
        xmlns:local="clr-namespace:Flarial.Launcher"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        x:Class="Flarial.Launcher.MainWindow"
        mc:Ignorable="d"
        AllowsTransparency="True" Background="#071214 " WindowStyle="None"
        Title="Flarial Launcher" Height="400" Width="600" ResizeMode="NoResize">



    <Window.Clip>
        <RectangleGeometry Rect="0,0,600,400" RadiusX="25" RadiusY="25"/>
    </Window.Clip>
    <Grid>
        
        <!--Grid.Resources>
            <global:ShowMessageCommand
                x:Key="MessageCommand" />
        </Grid.Resources>
        
        <tb:TaskbarIcon
            IconSource="/Images/icon.ico"
            ToolTipText="Flarial" 
            LeftClickCommand="{StaticResource MessageCommand}"
            LeftClickCommandParameter="Among"
            /-->

        <Grid x:Name="MainGrid" Visibility="Hidden">
            <Image Source="Images/background.png"/>
            <Grid Background="Transparent" MouseLeftButtonDown="DragWindow"/>
            <Image Source="Images/icon.png" Width="45" Height="45" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="23,23.5,0,0"/>
            <Label Content="Good Morning!" x:Name="GreetingLabel" Foreground="#FFFFFF" FontSize="30" FontFamily="Fonts/#Unbounded" VerticalAlignment="Top" HorizontalAlignment="Left" Height="50" Margin="80,14,0,0"/>
            <Label Content="Ready to play?" Foreground="#525252" FontSize="24" FontFamily="Fonts/#Unbounded" VerticalAlignment="Top" HorizontalAlignment="Left" Height="50" Margin="80,49,0,0"/>
            <Label Content="Version" x:Name="versionLabel" Foreground="#525252" FontSize="15" FontFamily="Fonts/#Unbounded" VerticalAlignment="Top" HorizontalAlignment="Right" Height="40" Margin="70,45,0,0"/>

            <Button Template="{StaticResource CloseButton}" Cursor="Hand" Click="CloseButton_Click" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="0,20,20,0"/>

            <Image HorizontalAlignment="Left" Width="35" Height="35" VerticalAlignment="Bottom" Margin="20,0,0,20" Source="Images/user.png" x:Name="PFP" Stretch="Fill">
                <Image.Clip>
                    <RectangleGeometry Rect="0,0,35,35" RadiusX="20" RadiusY="20"/>
                </Image.Clip>
            </Image>
            <Label Content="Logged in as" Foreground="#FFFFFF" FontSize="14" FontFamily="Fonts/#Sofia Sans" VerticalContentAlignment="Bottom" HorizontalAlignment="Left" Height="30" Margin="55,305,0,0"/>
            <StackPanel Orientation="Horizontal" Height="30" Margin="55,345,0,0">
                <Label Width="Auto" Content="Guest" x:Name="Username" Foreground="#fe4443" FontSize="14" FontFamily="Fonts/#Sofia Sans" VerticalContentAlignment="Bottom" HorizontalAlignment="Left"/>
                <Border Visibility="Hidden" x:Name="BetaTag" Width="40" Height="20" BorderBrush="#fe4443" BorderThickness="1" CornerRadius="10">
                    <Border.Background>
                        <SolidColorBrush Color="#fe4443" Opacity="0.4"/>
                    </Border.Background>
                    <Label Margin="0,-2,0,0" FontSize="10" FontFamily="Fonts/#Sofia Sans" Content="Beta" Foreground="White" HorizontalAlignment="Center" VerticalAlignment="Center" VerticalContentAlignment="Center" HorizontalContentAlignment="Center"/>
                </Border>
            </StackPanel>
            <Label Content="Launcher" Foreground="#FFFFFF" FontSize="14" FontFamily="Fonts/#Sofia Sans" VerticalContentAlignment="Bottom" HorizontalAlignment="Right" Height="30" Margin="0,305,30,0"/>
            <Label x:Name="VersionLabel" Content="v1" Foreground="#fe4443" FontSize="14" FontFamily="Fonts/#Sofia Sans" VerticalContentAlignment="Bottom" HorizontalAlignment="Right" Height="30" Margin="0,305,15,0"/>
            <Label x:Name="statusLabel" Content="Waiting to launch..." Foreground="#525252" FontSize="14" FontFamily="Fonts/#Sofia Sans" VerticalContentAlignment="Bottom" HorizontalAlignment="Right" Height="30" Margin="0,335,15,0"/>

            <Grid Name="LOL" Width="275" Height="120" Margin="0,0,0,65">

                <Grid.Background>
                    <SolidColorBrush Color="Black" Opacity="0.6"/>
                </Grid.Background>
                <Grid.Clip>
                    <RectangleGeometry Rect="0,0,275,120" RadiusX="15" RadiusY="15"/>
                </Grid.Clip>
                <Image Source="Images/news.png" Width="26" Height="26" VerticalAlignment="Top" Margin="0,13,80,0"/>
                <Label Content="News" Foreground="#FFFFFF" FontSize="20" FontFamily="Fonts/#Unbounded" VerticalAlignment="Top" HorizontalAlignment="Center" Height="32" Margin="20,9,0,0"/>
                <Label Content="This is a title i guess" Foreground="#fe4443" FontSize="12.5" FontFamily="Fonts/#Unbounded" VerticalAlignment="Top" HorizontalAlignment="Center" Height="35" Margin="0,39,0,0"/>
                <TextBlock TextAlignment="Center" Text="this is some text i am writing as a placeholder i guess. i am like kind of sick rn so after i finish this i think i'm done for a bit like a few days i think and i kind of want to play some games now" TextWrapping="WrapWithOverflow" Foreground="#FFFFFF" FontSize="10" FontFamily="Fonts/#Sofia Sans" VerticalAlignment="Top" Width="265" HorizontalAlignment="Center" Margin="0,64,0,0"/>
            </Grid>

            <StackPanel Width="275" Height="50" Orientation="Horizontal" Margin="0,140,0,0">
                <Button Template="{StaticResource LaunchButton}" Height="50" Width="130" Cursor="Hand" Click="Inject_Click"/>
                <Button x:Name="OptionsButton" Template="{StaticResource OptionsButton}" Height="50" Width="130" Cursor="Hand" Margin="15,0,0,0"/>
            </StackPanel>
        </Grid>
        <Grid x:Name="LoginGrid" Visibility="Hidden" HorizontalAlignment="Left" VerticalAlignment="Bottom" Width="600" Height="400" Background="#071214">
            <Grid Background="Transparent" MouseLeftButtonDown="DragWindow"/>
            <Image Source="Images/icon.png" Width="70" Height="70" VerticalAlignment="Top" Margin="0,40,0,0"/>
            <StackPanel Orientation="Horizontal" Height="50" Width="430" Margin="0,-120,0,0">
                <Label Content="Welcome to " Foreground="#FFFFFF" FontSize="38" FontFamily="Fonts/#Unbounded" HorizontalAlignment="Center" Height="50"/>
                <Label Content="Flarial" Foreground="#fe4443" FontSize="38" FontFamily="Fonts/#Unbounded" HorizontalAlignment="Center" Height="50" Margin="-15,0,0,0"/>
            </StackPanel>
            <Label Content="To continue, please login with your Discord account." Foreground="#FFFFFF" FontSize="18" FontFamily="Fonts/#Sofia Sans" HorizontalAlignment="Center" Height="30" Margin="0,35,0,0"/>
            <Button Cursor="Hand" Click="Button_Click_1" Content="Why do we need this?" Template="{StaticResource TextButtonHover}" HorizontalAlignment="Center" Height="25" Margin="0,82,0,0" Width="135"/>
            <StackPanel Orientation="Horizontal" Width="355" Height="60" VerticalAlignment="Bottom" Margin="0,0,0,50">
                <Button Template="{StaticResource LoginButton}" Height="50" Width="220" Cursor="Hand" Click="Login_Click"/>
                <Button Template="{StaticResource CloseButton1}" Height="50" Width="120" Cursor="Hand" Margin="15,0,0,0" x:Name="LoginGuest"/>
            </StackPanel>
        </Grid>

        <Grid x:Name="OptionsGrid" Visibility="Visible" Background="#071214">
            <Grid Background="Transparent" MouseLeftButtonDown="DragWindow"/>
            <Image Source="Images/icon.png" Width="45" Height="45" VerticalAlignment="Top" HorizontalAlignment="Left" Margin="23,23.5,0,0"/>
            <Label Content="Settings" x:Name="Title" Foreground="#FFFFFF" FontSize="30" FontFamily="Fonts/#Unbounded" VerticalAlignment="Top" HorizontalAlignment="Left" Height="50" Margin="80,14,0,0"/>
            <Label Content="idk what to put here" x:Name="Subtitle" Foreground="#525252" FontSize="24" FontFamily="Fonts/#Unbounded" VerticalAlignment="Top" HorizontalAlignment="Left" Height="50" Margin="80,49,0,0"/>
            <Grid Background="#313131" Margin="160,100,15,15" x:Name="OptionsVerionGrid" Visibility="Hidden">
                <ScrollViewer PreviewMouseWheel="ScrollViewer_PreviewMouseWheel" ScrollViewer.HorizontalScrollBarVisibility="Hidden" ScrollViewer.VerticalScrollBarVisibility="Disabled" Margin="5">
                    <StackPanel Orientation="Horizontal" x:Name="VersionsPanel"/>
                    <ScrollViewer.Clip>
                        <RectangleGeometry Rect="0,0,415,275" RadiusX="10" RadiusY="10"/>
                    </ScrollViewer.Clip>
                </ScrollViewer>
                <Grid.Clip>
                    <RectangleGeometry Rect="0,0,425,285" RadiusX="12" RadiusY="12"/>
                </Grid.Clip>
            </Grid>
            <Grid Background="#313131" Margin="160,100,15,15" x:Name="OptionsGeneralGrid" Visibility="Visible">
                <StackPanel Margin="0,10,10,0">
                    <Grid>
                        <Label Content="Close to tray" Foreground="#FFFFFF" VerticalAlignment="Center" FontSize="14" FontFamily="Fonts/#Unbounded" HorizontalAlignment="Left" Margin="10,0,0,0"/>
                        <ToggleButton x:Name="CloseToTrayButton" Style="{StaticResource ToggleButton2}" HorizontalAlignment="Right"/>
                    </Grid>
                    <Grid x:Name="BetaDLLGrid" Visibility="Collapsed">
                        <Label Content="Beta DLL" Foreground="#FFFFFF" VerticalAlignment="Center" FontSize="14" FontFamily="Fonts/#Unbounded" HorizontalAlignment="Left" Margin="10,0,0,0"/>
                        <ToggleButton x:Name="BetaDLLButton" Style="{StaticResource ToggleButton2}" HorizontalAlignment="Right"/>
                    </Grid>
                    <Grid>
                        <Label Content="Custom DLL" Foreground="#FFFFFF" VerticalAlignment="Center" FontSize="14" FontFamily="Fonts/#Unbounded" HorizontalAlignment="Left" Margin="10,0,0,0"/>
                        <ToggleButton x:Name="CustomDllButton" Style="{StaticResource ToggleButton2}" HorizontalAlignment="Right" Checked="ToggleButton_Checked_1" Unchecked="ToggleButton_Unchecked_1"/>
                        <StackPanel Margin="15,30,0,-25" Orientation="Horizontal" Name="CustomDLLSelect" Visibility="Collapsed">
                            <Border CornerRadius="7.5,0,0,7.5" HorizontalAlignment="Left" Width="370">
                                <Border.Background>
                                    <SolidColorBrush Color="#525252" x:Name="CustomDLLTextBoxBackground"/>
                                </Border.Background>
                                <TextBox Name="CustomDLLTextBox" CaretBrush="#ffffff" VerticalAlignment="Center" HorizontalAlignment="Stretch" Margin="5,0,0,0" Text="Placeholder" Background="Transparent" Foreground="#ffffff" FontFamily="/Fonts/#Sofia Sans" BorderThickness="0"/>
                                <Border.Triggers>
                                    <EventTrigger RoutedEvent="Border.MouseEnter">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <ColorAnimation Duration="0:0:0.1" To="#3b3a3a" Storyboard.TargetName="CustomDLLTextBoxBackground" Storyboard.TargetProperty="Color"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                    <EventTrigger RoutedEvent="Border.MouseLeave">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <ColorAnimation Duration="0:0:0.1" To="#525252" Storyboard.TargetName="CustomDLLTextBoxBackground" Storyboard.TargetProperty="Color"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </Border.Triggers>
                            </Border>
                            <Button Cursor="Hand" Click="Button_Click">
                                <Button.Template>
                                    <ControlTemplate>
                                        <Border Width="30" Margin="-1,0,0,0" CornerRadius="0,7.5,7.5,0">
                                            <Border.Background>
                                                <SolidColorBrush Color="#525252" x:Name="CustomDLLButtonBackground"/>
                                            </Border.Background>
                                            <StackPanel VerticalAlignment="Center" Orientation="Horizontal" HorizontalAlignment="Center">
                                                <Ellipse Fill="#ffffff" Width="5" Height="5" Margin="1"/>
                                                <Ellipse Fill="#ffffff" Width="5" Height="5" Margin="1"/>
                                                <Ellipse Fill="#ffffff" Width="5" Height="5" Margin="1"/>
                                            </StackPanel>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Trigger.EnterActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <ColorAnimation Duration="0:0:0.1" To="#3b3a3a" Storyboard.TargetName="CustomDLLButtonBackground" Storyboard.TargetProperty="Color"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </Trigger.EnterActions>
                                                <Trigger.ExitActions>
                                                    <BeginStoryboard>
                                                        <Storyboard>
                                                            <ColorAnimation Duration="0:0:0.1" To="#525252" Storyboard.TargetName="CustomDLLButtonBackground" Storyboard.TargetProperty="Color"/>
                                                        </Storyboard>
                                                    </BeginStoryboard>
                                                </Trigger.ExitActions>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>

                        </StackPanel>
                    </Grid>
                </StackPanel>
                
                <Button x:Name="SaveConfigButton" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,10,10" Visibility="Visible" Template="{StaticResource SaveConfigButton}" Height="45" Width="130" Cursor="Hand" Click="SaveConfig"/>
                <Grid.Clip>
                    <RectangleGeometry Rect="0,0,425,285" RadiusX="12" RadiusY="12"/>
                </Grid.Clip>
            </Grid>

            <Grid Background="#313131" Margin="160,100,15,15" x:Name="OptionsAccountGrid" Visibility="Hidden">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Top" Margin="15,15,0,0" Height="45" >
                    <Image HorizontalAlignment="Left" Width="35" Height="35" VerticalAlignment="Center" Margin="0,0,0,0" Source="Images/user.png" x:Name="PFP2" Stretch="Fill">
                        <Image.Clip>
                            <RectangleGeometry Rect="0,0,35,35" RadiusX="20" RadiusY="20"/>
                        </Image.Clip>
                    </Image>
                    <Label Content="Logged in as" Foreground="#FFFFFF" FontSize="14" FontFamily="Fonts/#Sofia Sans" VerticalAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Left" Height="30" Margin="0,0,0,0"/>
                    <Label Content="Guest" x:Name="Username2" Foreground="#fe4443" FontSize="14" FontFamily="Fonts/#Sofia Sans" VerticalAlignment="Center" VerticalContentAlignment="Center" HorizontalAlignment="Left" Height="30" Margin="-5,0,0,0"/>
                </StackPanel>
                <Button x:Name="LogoutButton" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,15,15,0" Visibility="Hidden" Template="{StaticResource LogoutButton}" Height="45" Width="130" Cursor="Hand" Click="Logout"/>
                <Button x:Name="LoginButton" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,15,15,0" Visibility="Visible" Template="{StaticResource LoginAmongButton}" Height="45" Width="130" Cursor="Hand" Click="LoginAmongus"/>
                <Grid.Clip>
                    <RectangleGeometry Rect="0,0,425,285" RadiusX="12" RadiusY="12"/>
                </Grid.Clip>
            </Grid>
            <Grid x:Name="OptionsCatagories" Margin="0,0,440,0">
                <StackPanel Width="150" Height="300" Margin="0,100,0,0">
                    <RadioButton Content="General"
                             Height="45"
                             Foreground="White"
                             Style="{StaticResource OptionsButtonTheme}"
                             Margin="10,0,0,5"
                             IsChecked="True"
                             Checked="OptionsGeneralClick" 
                             x:Name="RadioButton0">
                        <RadioButton.Tag>
                            <BitmapImage UriSource="Images/general.png"/>
                        </RadioButton.Tag>
                    </RadioButton>
                    <RadioButton Content="Version"
                             Height="45"
                             Foreground="White"
                             Margin="10,0,0,5"
                             Checked="OptionsVersionClick" 
                             Style="{StaticResource OptionsButtonTheme}">
                        <RadioButton.Tag>
                            <BitmapImage UriSource="Images/versions.png"/>
                        </RadioButton.Tag>
                    </RadioButton>
                    <RadioButton Content="Account"
                             Height="45"
                             Foreground="White"
                             Margin="10,0,0,5"
                             Checked="OptionsAccountClick" 
                             Style="{StaticResource OptionsButtonTheme}">
                        <RadioButton.Tag>
                            <BitmapImage UriSource="Images/account.png"/>
                        </RadioButton.Tag>
                    </RadioButton>
                    <RadioButton Content="Back"
                             Height="45"
                             Foreground="White"
                             Margin="10,0,0,5"
                             Style="{StaticResource OptionsButtonTheme}"
                             x:Name="RadioButton3">
                        <RadioButton.Tag>
                            <BitmapImage UriSource="Images/back.png"/>
                        </RadioButton.Tag>
                    </RadioButton>
                </StackPanel>
            </Grid>
        </Grid>
    </Grid>
</Window>
